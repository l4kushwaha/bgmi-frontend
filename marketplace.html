<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BGMI Marketplace</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
/* ===== BASIC RESET ===== */
*{box-sizing:border-box}

/* ===== BODY ===== */
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  min-height:100vh;
  background:linear-gradient(135deg,#1abc9c,#3498db);
  overflow-x:hidden;
}

/* ===== PARTICLES ===== */
#particle-canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

/* ===== HEADER ===== */
h1{
  text-align:center;
  color:#fff;
  margin:15px;
  position:relative;
  z-index:2;
}

/* ===== TOP BAR ===== */
#top-bar{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  padding:10px;
  z-index:2;
  position:relative;
}

#search,#filter{
  padding:10px 14px;
  border:none;
  border-radius:20px;
  outline:none;
}

/* ===== ITEMS ===== */
#items-container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:15px;
  padding:15px;
  position:relative;
  z-index:2;
}

/* ===== CARD ===== */
.item-card{
  background:#fff;
  width:280px;
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  overflow:hidden;
  opacity:0;
  transform:translateY(25px);
  transition:all .4s ease;
}
.item-card.show{opacity:1;transform:none}
.item-card:hover{transform:scale(1.04)}

.rating-badge,.verified-badge{
  position:absolute;
  top:8px;
  font-size:12px;
  padding:4px 7px;
  border-radius:6px;
  font-weight:600;
}
.rating-badge{left:8px;background:#f1c40f}
.verified-badge{right:8px;background:#27ae60;color:#fff}

/* ===== INFO ===== */
.item-info{padding:10px;font-size:13px}
.item-info p{margin:4px 0}
.price{color:#e67e22;font-weight:600}

/* ===== SELLER ===== */
.seller-link{
  color:#3498db;
  font-weight:600;
  cursor:pointer;
}
.seller-link:hover{text-decoration:underline}

/* ===== TAGS ===== */
.tags{margin-top:5px;font-size:12px}
.tag{
  display:inline-block;
  background:#ecf0f1;
  padding:2px 6px;
  border-radius:6px;
  margin:2px;
}

/* ===== IMAGES ===== */
.images-gallery{
  display:flex;
  gap:5px;
  flex-wrap:wrap;
  margin-top:6px;
}
.images-gallery img{
  width:48px;height:48px;
  object-fit:cover;
  border-radius:6px;
  cursor:pointer;
}

/* ===== BUTTONS ===== */
.btn{
  width:100%;
  margin-top:6px;
  padding:8px;
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}
.buy-btn{background:#27ae60;color:#fff}
.edit-btn{background:#3498db;color:#fff}
.delete-btn{background:#c0392b;color:#fff}

/* ===== MODALS ===== */
.modal-bg{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  justify-content:center;
  align-items:center;
  z-index:999;
}
.modal-bg.active{display:flex}

.modal{
  background:#fff;
  padding:20px;
  border-radius:12px;
  width:320px;
}

/* ===== SELLER MODAL ===== */
#seller-modal{
  max-height:80vh;
  overflow-y:auto;
  text-align:left;
}
.review{border-top:1px solid #eee;padding:6px 0}

/* ===== IMAGE MODAL ===== */
#imgModal img{
  max-width:90%;
  max-height:90%;
  border-radius:12px;
}

/* ===== TOAST ===== */
#toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#27ae60;
  color:#fff;
  padding:10px 20px;
  border-radius:25px;
  display:none;
  z-index:1200;
}
#toast.show{display:block}

@media(max-width:600px){
  .item-card{width:95%}
}
</style>
</head>

<body>

<canvas id="particle-canvas"></canvas>

<h1>BGMI Marketplace</h1>

<div id="top-bar">
  <input id="search" placeholder="Search UID / Title / Rank">
  <select id="filter">
    <option value="">Default</option>
    <option value="price_high">Price High → Low</option>
    <option value="price_low">Price Low → High</option>
    <option value="new">Newest</option>
    <option value="own">My Listings</option>
  </select>
</div>

<div id="items-container">
  <p style="color:white">Loading listings...</p>
</div>

<!-- CONFIRM -->
<div id="modal-bg" class="modal-bg">
  <div class="modal">
    <p id="modal-text"></p>
    <button id="confirm-btn" class="btn buy-btn">Confirm</button>
    <button onclick="closeModal()" class="btn delete-btn">Cancel</button>
  </div>
</div>

<!-- SELLER -->
<div id="seller-modal-bg" class="modal-bg">
  <div class="modal" id="seller-modal">
    <button class="btn delete-btn" onclick="closeSeller()">Close</button>
    <div id="seller-content">Loading...</div>
  </div>
</div>

<!-- IMAGE -->
<div id="imgModal" class="modal-bg" onclick="this.classList.remove('active')">
  <img id="imgPreview">
</div>

<div id="toast"></div>

<script>
/* ===== TOAST ===== */
function showToast(msg, ok=true){
  const t=document.getElementById('toast');
  t.textContent=msg;
  t.style.background=ok?'#27ae60':'#c0392b';
  t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),3000);
}

/* ===== IMAGE ===== */
document.addEventListener('click',e=>{
  if(e.target.classList.contains('item-img')){
    imgPreview.src=e.target.src;
    imgModal.classList.add('active');
  }
});

/* ===== PARTICLES ===== */
const c=document.getElementById('particle-canvas');
const x=c.getContext('2d');
function rs(){c.width=innerWidth;c.height=innerHeight}
rs();addEventListener('resize',rs);
const p=[...Array(80)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*2+1,dx:(Math.random()-.5),dy:(Math.random()-.5)}));
(function anim(){
  x.clearRect(0,0,c.width,c.height);
  p.forEach(o=>{
    x.beginPath();x.arc(o.x,o.y,o.r,0,7);x.fillStyle='rgba(255,255,255,.6)';x.fill();
    o.x+=o.dx;o.y+=o.dy;
    if(o.x<0)o.x=c.width;if(o.y<0)o.y=c.height;
    if(o.x>c.width)o.x=0;if(o.y>c.height)o.y=0;
  });
  requestAnimationFrame(anim);
})();
</script>

<!-- MAIN LOGIC -->
<script src="js/marketplace.js"></script>

</body>
</html>
